[toc]

## canopy聚类

> Canopy属于一种‘粗’聚类算法，即使用一种简单、快捷的距离计算方法将数据集分为若 干可重叠的子集canopy，这种算法不需要指定k值、但精度较低，可以结合K-means算法一 起使用：先由Canopy算法进行粗聚类得到k个质心，再使用K-means算法进行聚类。



> 不需要初始化聚类中心和指定K(聚类个数)
>
> 只需要指定t1 、t2  : 

### Canopy算法步骤

> ***step1:*** 将原始样本集随机排列成样本列表L=[x1,x2,...,xm]（排列好后不再更改），根据先验知识 或交叉验证调参设定初始距离阈值T1、T2，且T1>T2 。
>
> ***step2:***从列表L中随机选取一个样本P作为第一个canopy的质心，并将P从列表中删除
>
> ***step3:***从列表L中随机选取一个样本Q，计算Q到所有质心的距离，考察其中最小的距离D：
>
> > 如果D≤T1，则给Q一个弱标记，表示Q属于该canopy，并将Q加入其中； 
> >
> > 如果D≤T2，则给Q一个强标记，表示Q属于该canopy，且和质心非常接近，所以将该canopy的 质心设为所有强标记样本的中心位置，并将Q从列表L中删除； 
> >
> > 如果D>T1，则Q形成一个新的聚簇，并将Q从列表L中删除。
>
> ***step4:***重复第三步直到列表L中元素个数为零，最后的canopy质心作为K-Meas 的初始值聚类中心，质心数量作为k使用K-Means 精确计算。
>
> ![image-20200826145110594](Week03-01Canopy+%E8%81%9A%E7%B1%BB%E5%9B%9E%E5%BD%92.assets/image-20200826145110594.png)
>
> 如果上面流程不好理解可以看看这个：
>
>   下面介绍创建一个普通的canopy算法的步骤。
>
> 
> 1）原始数据集合List按照一定的规则进行排序（这个规则是任意的，但是一旦确定就不再更改），初始距离阈值为T1、T2，且T1 ＞ T2（T1、T2的设定可以根据用户的需要，或者使用交叉验证获得）。
>
> 
> 2）在List中随机挑选一个数据向量A，使用一个粗糙距离计算方式计算A与List中其他样本数据向量之间的距离d。
>
> 
> 3）根据第2步中的距离d，把d小于T1的样本数据向量划到一个canopy中，同时把d小于T2的样本数据向量从候选中心向量名单（这里可以理解为就是List）中移除。
>
>
> 4）重复第2、3步，直到候选中心向量名单为空，即List为空，算法结束。